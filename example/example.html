<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>

    <style>

        .menu {
            display: none;
            position: absolute;
        }

        .menu.is-open {
            display: block;
        }

        .menu .is-focused {
            background-color: lightblue;
        }

    </style>


</head>
<body>


    <div>
        <h4>Custom menu</h4>
        <p>What's the best language in the whole wide world? <button>Vote.</button> <button>rnd el with next focus</button></p>
        <div class="menu js-menu">
            <div data-value="c#">C#</div>
            <div data-value="go">Go</div>
            <div data-value="js">JavaScript</div>
            <div data-value="php">PHP</div>
            <div data-value="ruby">Ruby</div>
        </div>
    </div>

    <br/>
    <br/>
    <br/>
    <br/>
    <br/>

    <div>
        <h4>Native menu (well a select)</h4>
        <select>
            <option value="c#">C#</option>
            <optiondiv value="go">Go</optiondiv>
            <option value="js">JavaScript</option>
            <option value="php">PHP</option>
            <option value="ruby">Ruby</option>
        </select>
    </div>

    <script src="../build/build.js"></script>
    <script>

        var button = document.querySelector('button');

        var Menu = require('menu');
        var menu = new Menu({el: document.querySelector('.js-menu')});

        menu.focus(menu.values()[0]);

        menu.on('blurred', function() {
            menu.close();
        });

        menu.on('focus-item', function(item) {
            menu.focus(item.value);
        });

        menu.on('select-item', function(item) {
            menu.close();
            button.innerHTML = 'Vote: '+item.label;
        });

        menu.on('closed', function() {
            button.focus();
        });

        button.addEventListener('click', function() {
           menu.toggle();
        });

    </script>

</body>
</html>